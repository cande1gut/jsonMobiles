<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
</head>

<body>

    <center>
      <h1>Obtener foto</h1><br>
      <button onclick="javascript:foto()">Foto</button><br>
      <button onclick="location.href='index.html'">Volver</button><br>
      <img id="laImagen" style="width:100%"></img>
    </center>

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript">
      var deviceReady = false;
      function getReady(){
        deviceReady = true;
      }

      document.addEventListener('deviceready', getReady, false);

      function foto(){
        if(!deviceReady){
          return;
        }
        navigator.camera.getPicture(
          function(imageData){
            document.getElementById('laImagen').src = imageData;
          },
          function(message){
            alert(message);
          },
          {
            destinationType: Camera.DestinationType.FILE_URI,
          }
        );
      }
    </script>
</body>

</html>
